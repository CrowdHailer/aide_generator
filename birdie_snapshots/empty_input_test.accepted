---
version: 1.3.0
title: empty_input_test
file: ./test/aide/generator/tool_test.gleam
test_name: empty_input_test
---
import gleam/dynamic/decode
import gleam/dict
import gleam/json
import gleam/option.{type Option, None}
import oas/generator/utils

pub type Call {
  Random(
    input: RandomInput,
    cast: fn(RandomOutput) -> dict.Dict(String, utils.Any),
  )
}

pub type RandomOutput {
  RandomOutput(output: Int)
}

pub type RandomInput =
  Nil

pub fn call_encode(call) {
  case call {
    Random(input:, ..) -> random_input_encode(input)
  }
}

pub fn call_name(call) {
  case call {
    Random(..) -> "random"
  }
}

pub fn random_output_decoder() {
  use output <- decode.field("output", decode.int)
  decode.success(RandomOutput(output: output))
}

pub fn random_output_encode(data: RandomOutput) {
  utils.object([#("output", json.int(data.output))])
}

pub fn random_input_decoder() {
  decode.new_primitive_decoder("Nil", fn(_) { Ok(Nil) })
}

pub fn random_input_encode(_data: RandomInput) {
  json.null()
}
